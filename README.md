# fastapi_memo
메모관리 프로젝트를 통한 fastapi 전체적기능 적용

# 목표
    - fastapi  심화
    - 디비 관련 CRUD 작업 모두 구현
    - 사용자 인증 관련 작업 모두 구현 (JWT<- 체크후)
    - ApiRouter를 이용한 도메인(혹은 작업별) 분리 처리
    - Pydantic을 이용한 입력값 유효성 검사, 데이터 (역)직렬화 처리
    - ...

# ORM
    - **Object-Relational Mapping**의 약자로, 객체 지향 프로그래밍 언어의 객체와 관계형 데이터베이스의 테이블을 자동으로 매핑해주는 기술

    - SQL 쿼리문 직접 사용하는 대신, 파이썬 클레스(Model)의 객체를 통해서 데이터베이스에 직접 조작(테이블 생성, 데이터 추가/조회/삭제/수정등등..) 

    - 사용 패키지
        - pip install sqlalchemy
            - sqlalchemy는 모든 데이터베이스 지원 -> 제품별 데이터베이스를 지원하는 드라이버는 미지원 (별도로 전용 드라이버용 패키지를 같이 사용)
                - pip install pymysql
            - `풀링` 기능 지원 -> 큐 자료구조 기반 (선착순, 선입선출 + 돌려쓰기 => 최소 자원으로 커버가능)
                - 데이터베이스는 최대 세션수를 가지고 있음
                    - ex) 200이라면 동시에 200명이 사용가능함 => 동접수
                - 미리 접속 세션을 200개등 세팅한 만큼 준비함
                    - 접속 및 접속해제 과정 생략 (미루 구성, 돌려씀 -> 서비스 가동되면 처음에 무조건 200개의 세션을 만듬)
                        - 고객 접속 -> 풀에서 한개 꺼내서 제공 -> 쿼리 수행 -> 반납 : 반복
                        - 디비 커넥션 풀(Pool)
    - pip install -r requirements.txt

# async def vs def
    - 함수 실행 방식의 차이
        - async def : 비동기식 함수
        - def : 동기식 함수
    - 특징
        - def로 구성
            - `쓰레드 풀`에서 실행됨
            - 동접수가 많으면 그 수만큼 쓰레드가 운용(성능 제한 두고 실행, 동접 100건등...)
            - 특정 요청은 특정 쓰레드가 전담하여 운영 -> 동기식, I/O 작업시 블러킹이 됨.
            - fastapi는 별도의 쓰레드풀에 해당 요청을 보내서 처리(동시 처리를 수행)
            - 장점
                - 비동기를 미지원하는 작업에서는 유용(오래된 라이브러리등)
                - 복잡한 계산, 이미지 처리등 CPU 집약 작업에 유용
        - async def로 구성
            - fastapi에서 관리하는 `메인 이벤트 루프`에서 실행됨
            - await 키워드를 사용하여 I/O 작업 수행하여 대기할수 있음
                - 해당 키워드를 만나면 점유하는 프로세스를 넘길수 있음
                - 기다리는 동안 다른 작업 가능함.

# CRUD
    - CRUD는 **생성(Create), 읽기(Read), 갱신(Update), 삭제(Delete)**의 네 가지 기본 데이터 관리 기능을 뜻하는 약어입니다. 
    - 이는 데이터베이스나 애플리케이션에서 데이터를 생성, 조회, 수정, 삭제하는 기본적인 작업을 의미하며, 거의 모든 데이터 중심 애플리케이션의 핵심 기능입니다. 
    - 웹 서비스에서 디비 연동이라함은 테이블당 CRUD를 구성하는것이 기본임

# Auth
    - 인증처리
    - 기본 
        - ID, PW(암호화), 세션처리
        - 고객 테이블 구성 -> 회원가입, 회원정보수정, 회원탈퇴, 로그인, 로그아웃
        - 메모 작성 시 고객 정보가 세팅 -> 회원별 메모작업 가능
    - 발전 -> 차후 단계적 적용
        - JWT 적용하여 토큰 기반으로 고객 인증 관리
        - redis(No-sql 계열) 를 이용하여 세션 관리에 활용할 수 있음
    - 확장 -> 차후 단계적 적용
        - oAuth 적용하여 카카오/ 네이버/ 구글 등등 외부 (신뢰할 수 있는) 서비스와 연동
            - 각각 외부 서비스와 관리 ID 만 저장(통상적 내용) 
            - 관련 API는 dev.kakao.com, dev.naver.com, ...